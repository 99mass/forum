<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>One artist</title>
    <head>
        <link type="text/css" rel="stylesheet" href="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.css"/>
    <link rel="stylesheet" href="/static/css/style.css?ver=1.1">
    <link rel="shortcut icon" href="/static/ico/favicon.ico" type="image/x-icon">
   </head>

<body>
    <header class="artist" id="after-loading">
        <nav>
            <div class="nav">
                <a class="title" href="/">Groupie tracker</a>
                <div class="align-right">
                    <ul class="menu">
                        <li class="nav-item">
                            <a class="nav-link" href="/artists" aria-current="page">Artists</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/events">Events</a>
                        </li>
                    </ul>
                </div>
                <a id="onpen-menu">
                    <span class="burger-menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </span>
                </a>
            </div>
            <div class="mobile-nav" id="onclick-mobile-btn">
                <a id="closebtn">X</a>
                <ul class="menu-mobile">
                    <li class="nav-item-mobile">
                        <a class="nav-link-mobile" href="/artists" aria-current="page">Artists</a>
                    </li>
                    <li class="nav-item-mobile">
                        <a class="nav-link-mobile" href="/events">Events</a>
                    </li>
                </ul>
            </div>
        </nav>
        <section class="single-artits">
            <div class="single-details">
                <div class="artist-song">
                    <img src="{{.Artists.Image}}" alt="image groupe">
                    <h2 class="artist-card-title2">{{.Artists.Name}}</h2>
                    <span class="groups">
                        <p>{{.Artists.CreationDate}}</p>
                    </span>
                </div>
                <div class="single-members">
                    <h2>Member</h2>
                    {{range .Artists.Members}}
                    {{ if gt (len .) 18}}
                    <p> {{slice . 0 15}}...</p>
                    {{else}}
                    <p> {{ .}}</p>
                    {{end}}
                    {{end}}
                </div>
                <div class="album">
                    <img src="/static/images/musium.png" alt="">
                    <p class="album-name">
                        First-Album
                    </p>
                    <div class="date-album">
                        {{.Artists.FirstAlbum}}
                    </div>
                </div>
            </div>
        </section>
    </header>
    <section id="loader">
        <div class="main-loader">
            <div class="loading">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
    </section>
    <main id="after-loading1">
        <div class="title-artists-header-lists">
            <div class="title-artist-list">
                Concerts
            </div>
        </div>
        <div class="event-list">
            <div class="event-card">
                {{$ArtisName:= .Artists.Name}}
                {{$ArtisId:= .Artists.Id}}
                {{ range $key, $value := .Relations.DatesLocations }}
                <a href="/event/{{$ArtisId}}?location={{$key}}">
                    <div class="one-event-card">
                        {{ if gt (len $ArtisName) 14}}
                        <h2 class="event-card-title"> {{slice $ArtisName 0 11}}... </h2>
                        {{else}}
                        <h2 class="event-card-title">{{$ArtisName}}</h2>
                        {{end}}
                        <span class="location-date1">
                            {{ if gt (len $key) 12}}
                            <p><svg width="17" height="17" viewBox="0 0 17 17" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M8.49967 1.8334C12.1797 1.8334 15.1663 4.82007 15.1663 8.50007C15.1663 12.1867 12.1797 15.1667 8.49967 15.1667C4.81301 15.1667 1.83301 12.1867 1.83301 8.50007C1.83301 4.82007 4.81301 1.8334 8.49967 1.8334ZM11.0663 6.30673C11.1397 6.0734 10.9263 5.8534 10.693 5.92673L7.27967 6.9934C7.13967 7.04007 7.02634 7.14673 6.98634 7.28673L5.91967 10.7067C5.84634 10.9334 6.06634 11.1534 6.29301 11.0801L9.69301 10.0134C9.83301 9.9734 9.94634 9.86007 9.98634 9.72007L11.0663 6.30673Z"
                                        fill="white" />
                                </svg>
                                <span class="fomat-location">
                                    {{slice $key 0 9}}...
                                </span>
                            </p>
                            {{else}}
                            <p><svg width="17" height="17" viewBox="0 0 17 17" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M8.49967 1.8334C12.1797 1.8334 15.1663 4.82007 15.1663 8.50007C15.1663 12.1867 12.1797 15.1667 8.49967 15.1667C4.81301 15.1667 1.83301 12.1867 1.83301 8.50007C1.83301 4.82007 4.81301 1.8334 8.49967 1.8334ZM11.0663 6.30673C11.1397 6.0734 10.9263 5.8534 10.693 5.92673L7.27967 6.9934C7.13967 7.04007 7.02634 7.14673 6.98634 7.28673L5.91967 10.7067C5.84634 10.9334 6.06634 11.1534 6.29301 11.0801L9.69301 10.0134C9.83301 9.9734 9.94634 9.86007 9.98634 9.72007L11.0663 6.30673Z"
                                        fill="white" />
                                </svg>
                                <span class="fomat-location">
                                    {{ $key}}
                                </span>
                            </p>
                            {{end}}
                            {{range (slice $value 0 3) }}
                            <p>
                                {{.}}
                            </p>
                            {{end}}
                        </span>
                    </div>
                </a>
                {{end}}
            </div>
        </div>
        <section class="map_id" style="margin: 0;padding: 0;" >         
            <div id="map" style="width:100%;height:  700px;position: relative;" ></div>
        </section>
        <div class="footer">
            <p class="footer-title">Groupie tracker</p>
            <p class="footer-title2">
                Made with love❤️
            </p>
            <p class="footer-title3">
                Copyright 2023
            </p>
        </div>
    </main>
    
    <script src="/static/js/script.js"></script>
    <script src="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.js"></script>

    <!-- Inclure la bibliothèque JavaScript de MapQuest -->

    <script>
        // Clé API MapQuest
        const apiKey = '2Q1G1qJUEd1zfcWDDaWs9klqdft8tfvN';

        // Initialiser la carte
        L.mapquest.key = apiKey;

        // Options de la carte
        const mapOptions = {
            center: [48.8566, 2.3522], // Coordonnées de Paris (par exemple)
            layers: L.mapquest.tileLayer('map'),
            zoom: 12
        };

        // Créer la carte dans le conteneur spécifié
        const map = L.mapquest.map('map', mapOptions);

        // Liste de coordonnées des points d'intérêt
        const pointsOfInterest = [
            { lat: 48.8566, lng: 2.3522 }, // Paris
            { lat: 40.7128, lng: -74.0060 }, // New York
            { lat: 51.5074, lng: -0.1278 }, // Londres
            // Ajoutez d'autres coordonnées ici
        ];

        // Icône personnalisée pour les marqueurs
        const customIcon = L.icon({
            iconUrl: 'chemin/vers/votre/icon.png',
            iconSize: [32, 32], // Taille de l'icône en pixels
            iconAnchor: [16, 32], // Point d'ancrage de l'icône en pixels (position de pointe)
        });

        // Ajouter les marqueurs à la carte
        pointsOfInterest.forEach(point => {
            L.marker([point.lat, point.lng]).addTo(map);
        });
    </script>
   
</body>

</html>