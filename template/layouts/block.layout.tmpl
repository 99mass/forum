{{ define "Session"}}
{{ if .Session }}
<a href="/profil" class="drop-daown">{{.User.Username}} </a>
<a href="/signout" class="drop-daown">sign out</a>
{{else}}
<a href="/register" class="drop-daown">register</a>
<a href="/signin" class="drop-daown">sign in</a>
{{end}}
{{end}}

{{define "categorieMenu"}}
<div class="categori-menu">
  {{ range .Category}}
  <form action="/category" method="GET">
    <input type="hidden" name="categorie" value="{{.ID}}">
    <input type="submit" value="{{.NameCategory}}">
  </form>
  {{end}}
</div>
{{end}}


{{define "categorieMenuMyPage"}}
<div class="categori-menu">
  <form action="/mypage" method="post">
  <input type="hidden" name="categorie" value="">
    <input type="submit" value="All" class="all">
  </form>
  <span style="display: none;" class="category-id">{{.CategoryID}}</span>
  {{ range .Category}}
  <form action="/mypage" method="GET">
    <input type="hidden" name="categorie" value="{{.ID}}" class="categories-id">
    <input type="submit" value="{{.NameCategory}}" class="submit-btn">
  </form>
  {{end}}
</div>
{{end}}

{{define "FilterForm" }}
<form action="" method="post">
  <div class="select-opt1">
    <details>
      <summary>Choose the categories</summary>
      {{ range .Category}}
      <div><input type="checkbox" name="category" value="{{.ID}}" /><label>{{.NameCategory}}</label></div>
      {{end}}
    </details>
  </div>
  <div>
      <label for="creation-date">created posts</label>
      <label class="label-min-max"><span>min-date</span> <span>max-date</span></label>
      <p class="content-date-filter">
        <input type="date" value="2023-08-24">
        <input type="date" value="2023-08-24">
      </p>    
  </div>
  <div>
    <div>
      <label>liked posts</label><br>
      <label class="label-min-max"><span>min-value</span> <span>max-value</span></label>
      <div class="liked-post-content">
        <input type="number" min="0" placeholder="0">
        <input type="number" min="0" placeholder="1000">
      </div>
    </div>
  </div>
  <button type="submit">filter</button>
</form>
{{end}}


{{define "addPostForm"}}
<div class="new-post"><i class="fa-solid fa-plus"></i> New Post</div>

<form class="form-new-post" action="/addpost" method="post">
  <!-- checbox -->
  <div class="select-opt">
    <details>
      <summary>Choose the categories</summary>
      {{ range .Category}}
      <input type="checkbox" name="category" value="{{.ID}}" class="checkboxx"  /><label>{{.NameCategory}}</label><br>
      {{end}}
    </details>
  </div>
  <div>
    <input type="text" name="title" id="title" placeholder="title post" class="titles" required>
  </div>
  <div>
    <textarea name="content" id="content" cols="30" rows="5" maxlength="500" required style="font-size: small;"
      placeholder="put the content here"></textarea>
  </div>
    {{ if .Session }}
      <button type="submit" class="btn-submit-form">add post</button>
    {{ else }}
      <p style="color: red;font-size: 12px;">Please log in to submit a post.</p><br>
      <button  class="disabled-btn">add post</button>
    {{ end }}
</form>
{{end}}




{{define "post"}}
<div class="categorie-specifique">
  <!-- posts -->
  <div class="categorie-name-content"><span><i class="fa-solid fa-square-poll-horizontal"></i>Categorie:</span>

    <span>
      {{range .Posts.Categories}}
      - {{.NameCategory}}
      {{end}}
    </span>

  </div>

  <div class="title"><span><i class="fa-solid fa-feather"></i> Title:</span>{{.Posts.Title}}</div>

  <div><i class="fa-solid fa-quote-left"></i> {{.Posts.Content}}<i class="fa-solid fa-quote-left"
      style="margin-left: 5px;"></i> </div>

  <div class="author-date">
    <div><span><i class="fa-solid fa-at"></i>author:</span>{{.User.Username}} </div>
    <span class="bar">|</span>
    <div><span><i class="fa-solid fa-calendar-days"></i>date:</span>{{.Posts.CreatedAt}}</div>
  </div>

  <div class="like-dislik-content">
    <form action="" method="post">
      <input type="hidden" name="liked" value="">
      {{if .Liked}}
        <button type="submit"><i class="fa-solid fa-thumbs-up fa-beat"id="like"></i>{{.PostLike}}</button>
      {{else}}  
        <button type="submit"><i class="fa-regular fa-thumbs-up"></i>{{.PostLike}}</button>
      {{end}}
    </form>
    <form action="" method="post">
      <input type="hidden" name="disliked" value="">
      {{if .Disliked}}
      <button type="submit"><i class="fa-solid fa-thumbs-down"id="dislike" ></i>{{.PostDislike}}</button>
      {{else}}
      <button type="submit"><i class="fa-regular fa-thumbs-down"></i>{{.PostDislike}}</button>
      {{end}}
    </form>
  </div>

  <div class="comment ">
    <form action="/post" method="GET" class="comment-btn">
      <input type="hidden" name="post_id" id="post_id" value="{{.Posts.ID}} ">
      <button type="submit"><i class="fa-solid fa-pen-to-square " style="color: #2a1f51;"></i>comment here</button>
    </form>
  </div>

  <!-- comment -->
  {{if len .Comment }}
  <h6>all comments</h6>
  
  <div class="content-comments">
    {{range .Comment}}
    <div><i class="fa-regular fa-comments"></i>{{.Comment.Content}}</div>
    <div class="author-date2">
      <div><span><i class="fa-solid fa-at"></i>author:</span>{{.User.Username}}</div>
      <span class="bar">|</span>
      <div><span><i class="fa-solid fa-calendar-days"></i>date:</span>{{.Comment.CreatedAt}}</div>
    </div>
    <div class="like-dislik-content">
      <form action="" method="post">
        <input type="hidden" name="liked" value="">
        <button type="submit"><i class="fa-regular fa-thumbs-up"></i>{{.CommentLike}}</button>
      </form>
      <form action="" method="post">
        <input type="hidden" name="disliked" value="">
        <button type="submit"><i class="fa-regular fa-thumbs-down"></i>{{.CommentDislike}}</button>
      </form>
    </div>
    {{end}}
  </div>
  {{end}}
 
</div>

{{end}}

{{define "pagination"}}
  <div class="pagination">
    <a class="page-page">pages</a>
  </div>
{{end}}

{{define "blocError"}}



{{end}}